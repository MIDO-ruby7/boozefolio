<%= form_with model: item, url: { action: "create"}, local: true do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div>
    <%= f.label :category_id, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.collection_select :category_id, Category.all, :id, :name, { prompt: true }, class: "bselect select-success w-full max-w-xs", id: "item_category_id" %>
    <%= f.label :name, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :name, class: "input input-bordered input-success w-full max-w-xs" %>
    <%= f.label :flavor, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :flavor, class: "input input-bordered input-success w-full max-w-xs" %>
    <%= f.fields_for :photos do |photo_fields| %>
      <div>
        <%= photo_fields.label :image, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
        <%= photo_fields.file_field :image, class: "file-input file-input-bordered file-input-success w-full max-w-xs mb-3", accept: 'image/*', capture: "camera", id: "item_photos_attributes_0_image" %>
        <%= photo_fields.hidden_field :image_cache %>
      </div>
      <div>
        <%= image_tag item.image.url, id: 'preview', size: '200x100' %>
    <% end %>
    <%= f.label :size, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :size, class: "input input-bordered input-success w-full max-w-xs", id: "item_size" %>
    <%= f.label :maker, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :maker, class: "input input-bordered input-success w-full max-w-xs" %>
    <%= f.label :alcohol_content, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :alcohol_content, class: "input input-bordered input-success w-full max-w-xs", id: "item_alcohol_content" %>
    <%= f.label :country_of_origin, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_field :country_of_origin, class: "input input-bordered input-success w-full max-w-xs" %>
    <%= f.label :note, class: "block mb-2 text-sm font-medium text-gray-900 dark:text-white" %>
    <%= f.text_area :note, rows:"5", class: "textarea textarea-success w-full" %>
  </div>
  <%= f.submit '投稿', class: 'btn btn-success mt-2 w-24' %>
<% end %>